/*! nanoScrollerJS - v0.8.7 - (c) 2015 James Florentino; Licensed MIT */

!function(a){return"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=a(require("jquery"),window,document):a(jQuery,window,document)}(function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;z={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},u="scrollbar",t="scroll",l="mousedown",m="mouseenter",n="mousemove",p="mousewheel",o="mouseup",s="resize",h="drag",i="enter",w="up",r="panedown",f="DOMMouseScroll",g="down",x="wheel",j="keydown",k="keyup",v="touchmove",d="Microsoft Internet Explorer"===b.navigator.appName&&/msie 7./i.test(b.navigator.appVersion)&&b.ActiveXObject,e=null,D=b.requestAnimationFrame,y=b.cancelAnimationFrame,F=c.createElement("div").style,H=function(){var a,b,c,d,e,f;for(d=["t","webkitT","MozT","msT","OT"],a=e=0,f=d.length;f>e;a=++e)if(c=d[a],b=d[a]+"ransform",b in F)return d[a].substr(0,d[a].length-1);return!1}(),G=function(a){return H===!1?!1:""===H?a:H+a.charAt(0).toUpperCase()+a.substr(1)},E=G("transform"),B=E!==!1,A=function(){var a,b,d;return a=c.createElement("div"),b=a.style,b.position="absolute",b.width="100px",b.height="100px",b.overflow=t,b.top="-9999px",c.body.appendChild(a),d=a.offsetWidth-a.clientWidth,c.body.removeChild(a),d},C=function(){var a,c,d;return c=b.navigator.userAgent,(a=/(?=.+Mac OS X)(?=.+Firefox)/.test(c))?(d=/Firefox\/\d{2}\./.exec(c),d&&(d=d[0].replace(/\D+/g,"")),a&&+d>23):!1},q=function(){function j(d,f){this.el=d,this.options=f,e||(e=A()),this.$el=a(this.el),this.doc=a(this.options.documentContext||c),this.win=a(this.options.windowContext||b),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return j.prototype.preventScrolling=function(a,b){if(this.isActive)if(a.type===f)(b===g&&a.originalEvent.detail>0||b===w&&a.originalEvent.detail<0)&&a.preventDefault();else if(a.type===p){if(!a.originalEvent||!a.originalEvent.wheelDelta)return;(b===g&&a.originalEvent.wheelDelta<0||b===w&&a.originalEvent.wheelDelta>0)&&a.preventDefault()}},j.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},j.prototype.updateScrollValues=function(){var a,b;a=this.content,this.maxScrollTop=a.scrollHeight-a.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=a.scrollTop,b=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==b&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:b}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},j.prototype.setOnScrollStyles=function(){var a;B?(a={},a[E]="translate(0, "+this.sliderTop+"px)"):a={top:this.sliderTop},D?(y&&this.scrollRAF&&y(this.scrollRAF),this.scrollRAF=D(function(b){return function(){return b.scrollRAF=null,b.slider.css(a)}}(this))):this.slider.css(a)},j.prototype.createEvents=function(){this.events={down:function(a){return function(b){return a.isBeingDragged=!0,a.offsetY=b.pageY-a.slider.offset().top,a.slider.is(b.target)||(a.offsetY=0),a.pane.addClass(a.options.activeClass),a.doc.bind(n,a.events[h]).bind(o,a.events[w]),a.body.bind(m,a.events[i]),!1}}(this),drag:function(a){return function(b){return a.sliderY=b.pageY-a.$el.offset().top-a.paneTop-(a.offsetY||.5*a.sliderHeight),a.scroll(),a.contentScrollTop>=a.maxScrollTop&&a.prevScrollTop!==a.maxScrollTop?a.$el.trigger("scrollend"):0===a.contentScrollTop&&0!==a.prevScrollTop&&a.$el.trigger("scrolltop"),!1}}(this),up:function(a){return function(b){return a.isBeingDragged=!1,a.pane.removeClass(a.options.activeClass),a.doc.unbind(n,a.events[h]).unbind(o,a.events[w]),a.body.unbind(m,a.events[i]),!1}}(this),resize:function(a){return function(b){a.reset()}}(this),panedown:function(a){return function(b){return a.sliderY=(b.offsetY||b.originalEvent.layerY)-.5*a.sliderHeight,a.scroll(),a.events.down(b),!1}}(this),scroll:function(a){return function(b){a.updateScrollValues(),a.isBeingDragged||(a.iOSNativeScrolling||(a.sliderY=a.sliderTop,a.setOnScrollStyles()),null!=b&&(a.contentScrollTop>=a.maxScrollTop?(a.options.preventPageScrolling&&a.preventScrolling(b,g),a.prevScrollTop!==a.maxScrollTop&&a.$el.trigger("scrollend")):0===a.contentScrollTop&&(a.options.preventPageScrolling&&a.preventScrolling(b,w),0!==a.prevScrollTop&&a.$el.trigger("scrolltop"))))}}(this),wheel:function(a){return function(b){var c;if(null!=b)return c=b.delta||b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.detail||b.originalEvent&&-b.originalEvent.detail,c&&(a.sliderY+=-c/3),a.scroll(),!1}}(this),enter:function(a){return function(b){var c;if(a.isBeingDragged)return 1!==(b.buttons||b.which)?(c=a.events)[w].apply(c,arguments):void 0}}(this)}},j.prototype.addEvents=function(){var a;this.removeEvents(),a=this.events,this.options.disableResize||this.win.bind(s,a[s]),this.iOSNativeScrolling||(this.slider.bind(l,a[g]),this.pane.bind(l,a[r]).bind(""+p+" "+f,a[x])),this.$content.bind(""+t+" "+p+" "+f+" "+v,a[t])},j.prototype.removeEvents=function(){var a;a=this.events,this.win.unbind(s,a[s]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+t+" "+p+" "+f+" "+v,a[t])},j.prototype.generate=function(){var a,c,d,f,g,h,i;return f=this.options,h=f.paneClass,i=f.sliderClass,a=f.contentClass,(g=this.$el.children("."+h)).length||g.children("."+i).length||this.$el.append('<div class="'+h+'"><div class="'+i+'" /></div>'),this.pane=this.$el.children("."+h),this.slider=this.pane.find("."+i),0===e&&C()?(d=b.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),c={right:-14,paddingRight:+d+14}):e&&(c={right:-e},this.$el.addClass(f.enabledClass)),null!=c&&this.$content.css(c),this},j.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},j.prototype.reset=function(){var a,b,c,f,g,h,i,j,k,l,m,n;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),a=this.content,f=a.style,g=f.overflowY,d&&this.$content.css({height:this.$content.height()}),b=a.scrollHeight+e,l=parseInt(this.$el.css("max-height"),10),l>0&&(this.$el.height(""),this.$el.height(a.scrollHeight>l?l:a.scrollHeight)),i=this.pane.outerHeight(!1),k=parseInt(this.pane.css("top"),10),h=parseInt(this.pane.css("bottom"),10),j=i+k+h,n=Math.round(j/b*i),n<this.options.sliderMinHeight?n=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&n>this.options.sliderMaxHeight&&(n=this.options.sliderMaxHeight),g===t&&f.overflowX!==t&&(n+=e),this.maxSliderTop=j-n,this.contentHeight=b,this.paneHeight=i,this.paneOuterHeight=j,this.sliderHeight=n,this.paneTop=k,this.slider.height(n),this.events.scroll(),this.pane.show(),this.isActive=!0,a.scrollHeight===a.clientHeight||this.pane.outerHeight(!0)>=a.scrollHeight&&g!==t?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===a.scrollHeight&&g===t?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),c=this.$content.css("position"),("static"===c||"relative"===c)&&(m=parseInt(this.$content.css("right"),10),m&&this.$content.css({right:"",marginRight:m})),this)},j.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},j.prototype.scrollBottom=function(a){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger(p),this.stop().restore(),this):void 0},j.prototype.scrollTop=function(a){return this.isActive?(this.$content.scrollTop(+a).trigger(p),this.stop().restore(),this):void 0},j.prototype.scrollTo=function(a){return this.isActive?(this.scrollTop(this.$el.find(a).get(0).offsetTop),this):void 0},j.prototype.stop=function(){return y&&this.scrollRAF&&(y(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},j.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),d&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},j.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout(function(a){return function(){a.pane.removeClass(a.options.flashedClass)}}(this),this.options.flashDelay),this):void 0},j}(),a.fn.nanoScroller=function(b){return this.each(function(){var c,d;if((d=this.nanoscroller)||(c=a.extend({},z,b),this.nanoscroller=d=new q(this,c)),b&&"object"==typeof b){if(a.extend(d.options,b),null!=b.scrollBottom)return d.scrollBottom(b.scrollBottom);if(null!=b.scrollTop)return d.scrollTop(b.scrollTop);if(b.scrollTo)return d.scrollTo(b.scrollTo);if("bottom"===b.scroll)return d.scrollBottom(0);if("top"===b.scroll)return d.scrollTop(0);if(b.scroll&&b.scroll instanceof a)return d.scrollTo(b.scroll);if(b.stop)return d.stop();if(b.destroy)return d.destroy();if(b.flash)return d.flash()}return d.reset()})},a.fn.nanoScroller.Constructor=q});
//# sourceMappingURL=jquery.nanoscroller.min.js.map
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJ2ZW5kb3Ivc2Nyb2xsYmFyL25hbm9TY3JvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgbmFub1Njcm9sbGVySlMgLSB2MC44LjcgLSAoYykgMjAxNSBKYW1lcyBGbG9yZW50aW5vOyBMaWNlbnNlZCBNSVQgKi9cblxuIWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGZ1bmN0aW9uKGIpe3JldHVybiBhKGIsd2luZG93LGRvY3VtZW50KX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWEocmVxdWlyZShcImpxdWVyeVwiKSx3aW5kb3csZG9jdW1lbnQpOmEoalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCl9KGZ1bmN0aW9uKGEsYixjKXtcInVzZSBzdHJpY3RcIjt2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseSx6LEEsQixDLEQsRSxGLEcsSDt6PXtwYW5lQ2xhc3M6XCJuYW5vLXBhbmVcIixzbGlkZXJDbGFzczpcIm5hbm8tc2xpZGVyXCIsY29udGVudENsYXNzOlwibmFuby1jb250ZW50XCIsZW5hYmxlZENsYXNzOlwiaGFzLXNjcm9sbGJhclwiLGZsYXNoZWRDbGFzczpcImZsYXNoZWRcIixhY3RpdmVDbGFzczpcImFjdGl2ZVwiLGlPU05hdGl2ZVNjcm9sbGluZzohMSxwcmV2ZW50UGFnZVNjcm9sbGluZzohMSxkaXNhYmxlUmVzaXplOiExLGFsd2F5c1Zpc2libGU6ITEsZmxhc2hEZWxheToxNTAwLHNsaWRlck1pbkhlaWdodDoyMCxzbGlkZXJNYXhIZWlnaHQ6bnVsbCxkb2N1bWVudENvbnRleHQ6bnVsbCx3aW5kb3dDb250ZXh0Om51bGx9LHU9XCJzY3JvbGxiYXJcIix0PVwic2Nyb2xsXCIsbD1cIm1vdXNlZG93blwiLG09XCJtb3VzZWVudGVyXCIsbj1cIm1vdXNlbW92ZVwiLHA9XCJtb3VzZXdoZWVsXCIsbz1cIm1vdXNldXBcIixzPVwicmVzaXplXCIsaD1cImRyYWdcIixpPVwiZW50ZXJcIix3PVwidXBcIixyPVwicGFuZWRvd25cIixmPVwiRE9NTW91c2VTY3JvbGxcIixnPVwiZG93blwiLHg9XCJ3aGVlbFwiLGo9XCJrZXlkb3duXCIsaz1cImtleXVwXCIsdj1cInRvdWNobW92ZVwiLGQ9XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09PWIubmF2aWdhdG9yLmFwcE5hbWUmJi9tc2llIDcuL2kudGVzdChiLm5hdmlnYXRvci5hcHBWZXJzaW9uKSYmYi5BY3RpdmVYT2JqZWN0LGU9bnVsbCxEPWIucmVxdWVzdEFuaW1hdGlvbkZyYW1lLHk9Yi5jYW5jZWxBbmltYXRpb25GcmFtZSxGPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxIPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmO2ZvcihkPVtcInRcIixcIndlYmtpdFRcIixcIk1velRcIixcIm1zVFwiLFwiT1RcIl0sYT1lPTAsZj1kLmxlbmd0aDtmPmU7YT0rK2UpaWYoYz1kW2FdLGI9ZFthXStcInJhbnNmb3JtXCIsYiBpbiBGKXJldHVybiBkW2FdLnN1YnN0cigwLGRbYV0ubGVuZ3RoLTEpO3JldHVybiExfSgpLEc9ZnVuY3Rpb24oYSl7cmV0dXJuIEg9PT0hMT8hMTpcIlwiPT09SD9hOkgrYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKX0sRT1HKFwidHJhbnNmb3JtXCIpLEI9RSE9PSExLEE9ZnVuY3Rpb24oKXt2YXIgYSxiLGQ7cmV0dXJuIGE9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGI9YS5zdHlsZSxiLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixiLndpZHRoPVwiMTAwcHhcIixiLmhlaWdodD1cIjEwMHB4XCIsYi5vdmVyZmxvdz10LGIudG9wPVwiLTk5OTlweFwiLGMuYm9keS5hcHBlbmRDaGlsZChhKSxkPWEub2Zmc2V0V2lkdGgtYS5jbGllbnRXaWR0aCxjLmJvZHkucmVtb3ZlQ2hpbGQoYSksZH0sQz1mdW5jdGlvbigpe3ZhciBhLGMsZDtyZXR1cm4gYz1iLm5hdmlnYXRvci51c2VyQWdlbnQsKGE9Lyg/PS4rTWFjIE9TIFgpKD89LitGaXJlZm94KS8udGVzdChjKSk/KGQ9L0ZpcmVmb3hcXC9cXGR7Mn1cXC4vLmV4ZWMoYyksZCYmKGQ9ZFswXS5yZXBsYWNlKC9cXEQrL2csXCJcIikpLGEmJitkPjIzKTohMX0scT1mdW5jdGlvbigpe2Z1bmN0aW9uIGooZCxmKXt0aGlzLmVsPWQsdGhpcy5vcHRpb25zPWYsZXx8KGU9QSgpKSx0aGlzLiRlbD1hKHRoaXMuZWwpLHRoaXMuZG9jPWEodGhpcy5vcHRpb25zLmRvY3VtZW50Q29udGV4dHx8YyksdGhpcy53aW49YSh0aGlzLm9wdGlvbnMud2luZG93Q29udGV4dHx8YiksdGhpcy5ib2R5PXRoaXMuZG9jLmZpbmQoXCJib2R5XCIpLHRoaXMuJGNvbnRlbnQ9dGhpcy4kZWwuY2hpbGRyZW4oXCIuXCIrdGhpcy5vcHRpb25zLmNvbnRlbnRDbGFzcyksdGhpcy4kY29udGVudC5hdHRyKFwidGFiaW5kZXhcIix0aGlzLm9wdGlvbnMudGFiSW5kZXh8fDApLHRoaXMuY29udGVudD10aGlzLiRjb250ZW50WzBdLHRoaXMucHJldmlvdXNQb3NpdGlvbj0wLHRoaXMub3B0aW9ucy5pT1NOYXRpdmVTY3JvbGxpbmcmJm51bGwhPXRoaXMuZWwuc3R5bGUuV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc/dGhpcy5uYXRpdmVTY3JvbGxpbmcoKTp0aGlzLmdlbmVyYXRlKCksdGhpcy5jcmVhdGVFdmVudHMoKSx0aGlzLmFkZEV2ZW50cygpLHRoaXMucmVzZXQoKX1yZXR1cm4gai5wcm90b3R5cGUucHJldmVudFNjcm9sbGluZz1mdW5jdGlvbihhLGIpe2lmKHRoaXMuaXNBY3RpdmUpaWYoYS50eXBlPT09ZikoYj09PWcmJmEub3JpZ2luYWxFdmVudC5kZXRhaWw+MHx8Yj09PXcmJmEub3JpZ2luYWxFdmVudC5kZXRhaWw8MCkmJmEucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGEudHlwZT09PXApe2lmKCFhLm9yaWdpbmFsRXZlbnR8fCFhLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSlyZXR1cm47KGI9PT1nJiZhLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YTwwfHxiPT09dyYmYS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGE+MCkmJmEucHJldmVudERlZmF1bHQoKX19LGoucHJvdG90eXBlLm5hdGl2ZVNjcm9sbGluZz1mdW5jdGlvbigpe3RoaXMuJGNvbnRlbnQuY3NzKHtXZWJraXRPdmVyZmxvd1Njcm9sbGluZzpcInRvdWNoXCJ9KSx0aGlzLmlPU05hdGl2ZVNjcm9sbGluZz0hMCx0aGlzLmlzQWN0aXZlPSEwfSxqLnByb3RvdHlwZS51cGRhdGVTY3JvbGxWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgYSxiO2E9dGhpcy5jb250ZW50LHRoaXMubWF4U2Nyb2xsVG9wPWEuc2Nyb2xsSGVpZ2h0LWEuY2xpZW50SGVpZ2h0LHRoaXMucHJldlNjcm9sbFRvcD10aGlzLmNvbnRlbnRTY3JvbGxUb3B8fDAsdGhpcy5jb250ZW50U2Nyb2xsVG9wPWEuc2Nyb2xsVG9wLGI9dGhpcy5jb250ZW50U2Nyb2xsVG9wPnRoaXMucHJldmlvdXNQb3NpdGlvbj9cImRvd25cIjp0aGlzLmNvbnRlbnRTY3JvbGxUb3A8dGhpcy5wcmV2aW91c1Bvc2l0aW9uP1widXBcIjpcInNhbWVcIix0aGlzLnByZXZpb3VzUG9zaXRpb249dGhpcy5jb250ZW50U2Nyb2xsVG9wLFwic2FtZVwiIT09YiYmdGhpcy4kZWwudHJpZ2dlcihcInVwZGF0ZVwiLHtwb3NpdGlvbjp0aGlzLmNvbnRlbnRTY3JvbGxUb3AsbWF4aW11bTp0aGlzLm1heFNjcm9sbFRvcCxkaXJlY3Rpb246Yn0pLHRoaXMuaU9TTmF0aXZlU2Nyb2xsaW5nfHwodGhpcy5tYXhTbGlkZXJUb3A9dGhpcy5wYW5lSGVpZ2h0LXRoaXMuc2xpZGVySGVpZ2h0LHRoaXMuc2xpZGVyVG9wPTA9PT10aGlzLm1heFNjcm9sbFRvcD8wOnRoaXMuY29udGVudFNjcm9sbFRvcCp0aGlzLm1heFNsaWRlclRvcC90aGlzLm1heFNjcm9sbFRvcCl9LGoucHJvdG90eXBlLnNldE9uU2Nyb2xsU3R5bGVzPWZ1bmN0aW9uKCl7dmFyIGE7Qj8oYT17fSxhW0VdPVwidHJhbnNsYXRlKDAsIFwiK3RoaXMuc2xpZGVyVG9wK1wicHgpXCIpOmE9e3RvcDp0aGlzLnNsaWRlclRvcH0sRD8oeSYmdGhpcy5zY3JvbGxSQUYmJnkodGhpcy5zY3JvbGxSQUYpLHRoaXMuc2Nyb2xsUkFGPUQoZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIuc2Nyb2xsUkFGPW51bGwsYi5zbGlkZXIuY3NzKGEpfX0odGhpcykpKTp0aGlzLnNsaWRlci5jc3MoYSl9LGoucHJvdG90eXBlLmNyZWF0ZUV2ZW50cz1mdW5jdGlvbigpe3RoaXMuZXZlbnRzPXtkb3duOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5pc0JlaW5nRHJhZ2dlZD0hMCxhLm9mZnNldFk9Yi5wYWdlWS1hLnNsaWRlci5vZmZzZXQoKS50b3AsYS5zbGlkZXIuaXMoYi50YXJnZXQpfHwoYS5vZmZzZXRZPTApLGEucGFuZS5hZGRDbGFzcyhhLm9wdGlvbnMuYWN0aXZlQ2xhc3MpLGEuZG9jLmJpbmQobixhLmV2ZW50c1toXSkuYmluZChvLGEuZXZlbnRzW3ddKSxhLmJvZHkuYmluZChtLGEuZXZlbnRzW2ldKSwhMX19KHRoaXMpLGRyYWc6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLnNsaWRlclk9Yi5wYWdlWS1hLiRlbC5vZmZzZXQoKS50b3AtYS5wYW5lVG9wLShhLm9mZnNldFl8fC41KmEuc2xpZGVySGVpZ2h0KSxhLnNjcm9sbCgpLGEuY29udGVudFNjcm9sbFRvcD49YS5tYXhTY3JvbGxUb3AmJmEucHJldlNjcm9sbFRvcCE9PWEubWF4U2Nyb2xsVG9wP2EuJGVsLnRyaWdnZXIoXCJzY3JvbGxlbmRcIik6MD09PWEuY29udGVudFNjcm9sbFRvcCYmMCE9PWEucHJldlNjcm9sbFRvcCYmYS4kZWwudHJpZ2dlcihcInNjcm9sbHRvcFwiKSwhMX19KHRoaXMpLHVwOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5pc0JlaW5nRHJhZ2dlZD0hMSxhLnBhbmUucmVtb3ZlQ2xhc3MoYS5vcHRpb25zLmFjdGl2ZUNsYXNzKSxhLmRvYy51bmJpbmQobixhLmV2ZW50c1toXSkudW5iaW5kKG8sYS5ldmVudHNbd10pLGEuYm9keS51bmJpbmQobSxhLmV2ZW50c1tpXSksITF9fSh0aGlzKSxyZXNpemU6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2EucmVzZXQoKX19KHRoaXMpLHBhbmVkb3duOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5zbGlkZXJZPShiLm9mZnNldFl8fGIub3JpZ2luYWxFdmVudC5sYXllclkpLS41KmEuc2xpZGVySGVpZ2h0LGEuc2Nyb2xsKCksYS5ldmVudHMuZG93bihiKSwhMX19KHRoaXMpLHNjcm9sbDpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7YS51cGRhdGVTY3JvbGxWYWx1ZXMoKSxhLmlzQmVpbmdEcmFnZ2VkfHwoYS5pT1NOYXRpdmVTY3JvbGxpbmd8fChhLnNsaWRlclk9YS5zbGlkZXJUb3AsYS5zZXRPblNjcm9sbFN0eWxlcygpKSxudWxsIT1iJiYoYS5jb250ZW50U2Nyb2xsVG9wPj1hLm1heFNjcm9sbFRvcD8oYS5vcHRpb25zLnByZXZlbnRQYWdlU2Nyb2xsaW5nJiZhLnByZXZlbnRTY3JvbGxpbmcoYixnKSxhLnByZXZTY3JvbGxUb3AhPT1hLm1heFNjcm9sbFRvcCYmYS4kZWwudHJpZ2dlcihcInNjcm9sbGVuZFwiKSk6MD09PWEuY29udGVudFNjcm9sbFRvcCYmKGEub3B0aW9ucy5wcmV2ZW50UGFnZVNjcm9sbGluZyYmYS5wcmV2ZW50U2Nyb2xsaW5nKGIsdyksMCE9PWEucHJldlNjcm9sbFRvcCYmYS4kZWwudHJpZ2dlcihcInNjcm9sbHRvcFwiKSkpKX19KHRoaXMpLHdoZWVsOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYztpZihudWxsIT1iKXJldHVybiBjPWIuZGVsdGF8fGIud2hlZWxEZWx0YXx8Yi5vcmlnaW5hbEV2ZW50JiZiLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YXx8LWIuZGV0YWlsfHxiLm9yaWdpbmFsRXZlbnQmJi1iLm9yaWdpbmFsRXZlbnQuZGV0YWlsLGMmJihhLnNsaWRlclkrPS1jLzMpLGEuc2Nyb2xsKCksITF9fSh0aGlzKSxlbnRlcjpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM7aWYoYS5pc0JlaW5nRHJhZ2dlZClyZXR1cm4gMSE9PShiLmJ1dHRvbnN8fGIud2hpY2gpPyhjPWEuZXZlbnRzKVt3XS5hcHBseShjLGFyZ3VtZW50cyk6dm9pZCAwfX0odGhpcyl9fSxqLnByb3RvdHlwZS5hZGRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLnJlbW92ZUV2ZW50cygpLGE9dGhpcy5ldmVudHMsdGhpcy5vcHRpb25zLmRpc2FibGVSZXNpemV8fHRoaXMud2luLmJpbmQocyxhW3NdKSx0aGlzLmlPU05hdGl2ZVNjcm9sbGluZ3x8KHRoaXMuc2xpZGVyLmJpbmQobCxhW2ddKSx0aGlzLnBhbmUuYmluZChsLGFbcl0pLmJpbmQoXCJcIitwK1wiIFwiK2YsYVt4XSkpLHRoaXMuJGNvbnRlbnQuYmluZChcIlwiK3QrXCIgXCIrcCtcIiBcIitmK1wiIFwiK3YsYVt0XSl9LGoucHJvdG90eXBlLnJlbW92ZUV2ZW50cz1mdW5jdGlvbigpe3ZhciBhO2E9dGhpcy5ldmVudHMsdGhpcy53aW4udW5iaW5kKHMsYVtzXSksdGhpcy5pT1NOYXRpdmVTY3JvbGxpbmd8fCh0aGlzLnNsaWRlci51bmJpbmQoKSx0aGlzLnBhbmUudW5iaW5kKCkpLHRoaXMuJGNvbnRlbnQudW5iaW5kKFwiXCIrdCtcIiBcIitwK1wiIFwiK2YrXCIgXCIrdixhW3RdKX0sai5wcm90b3R5cGUuZ2VuZXJhdGU9ZnVuY3Rpb24oKXt2YXIgYSxjLGQsZixnLGgsaTtyZXR1cm4gZj10aGlzLm9wdGlvbnMsaD1mLnBhbmVDbGFzcyxpPWYuc2xpZGVyQ2xhc3MsYT1mLmNvbnRlbnRDbGFzcywoZz10aGlzLiRlbC5jaGlsZHJlbihcIi5cIitoKSkubGVuZ3RofHxnLmNoaWxkcmVuKFwiLlwiK2kpLmxlbmd0aHx8dGhpcy4kZWwuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiJytoKydcIj48ZGl2IGNsYXNzPVwiJytpKydcIiAvPjwvZGl2PicpLHRoaXMucGFuZT10aGlzLiRlbC5jaGlsZHJlbihcIi5cIitoKSx0aGlzLnNsaWRlcj10aGlzLnBhbmUuZmluZChcIi5cIitpKSwwPT09ZSYmQygpPyhkPWIuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRlbnQsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShcInBhZGRpbmctcmlnaHRcIikucmVwbGFjZSgvW14wLTkuXSsvZyxcIlwiKSxjPXtyaWdodDotMTQscGFkZGluZ1JpZ2h0OitkKzE0fSk6ZSYmKGM9e3JpZ2h0Oi1lfSx0aGlzLiRlbC5hZGRDbGFzcyhmLmVuYWJsZWRDbGFzcykpLG51bGwhPWMmJnRoaXMuJGNvbnRlbnQuY3NzKGMpLHRoaXN9LGoucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oKXt0aGlzLnN0b3BwZWQ9ITEsdGhpcy5pT1NOYXRpdmVTY3JvbGxpbmd8fHRoaXMucGFuZS5zaG93KCksdGhpcy5hZGRFdmVudHMoKX0sai5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZixnLGgsaSxqLGssbCxtLG47cmV0dXJuIHRoaXMuaU9TTmF0aXZlU2Nyb2xsaW5nP3ZvaWQodGhpcy5jb250ZW50SGVpZ2h0PXRoaXMuY29udGVudC5zY3JvbGxIZWlnaHQpOih0aGlzLiRlbC5maW5kKFwiLlwiK3RoaXMub3B0aW9ucy5wYW5lQ2xhc3MpLmxlbmd0aHx8dGhpcy5nZW5lcmF0ZSgpLnN0b3AoKSx0aGlzLnN0b3BwZWQmJnRoaXMucmVzdG9yZSgpLGE9dGhpcy5jb250ZW50LGY9YS5zdHlsZSxnPWYub3ZlcmZsb3dZLGQmJnRoaXMuJGNvbnRlbnQuY3NzKHtoZWlnaHQ6dGhpcy4kY29udGVudC5oZWlnaHQoKX0pLGI9YS5zY3JvbGxIZWlnaHQrZSxsPXBhcnNlSW50KHRoaXMuJGVsLmNzcyhcIm1heC1oZWlnaHRcIiksMTApLGw+MCYmKHRoaXMuJGVsLmhlaWdodChcIlwiKSx0aGlzLiRlbC5oZWlnaHQoYS5zY3JvbGxIZWlnaHQ+bD9sOmEuc2Nyb2xsSGVpZ2h0KSksaT10aGlzLnBhbmUub3V0ZXJIZWlnaHQoITEpLGs9cGFyc2VJbnQodGhpcy5wYW5lLmNzcyhcInRvcFwiKSwxMCksaD1wYXJzZUludCh0aGlzLnBhbmUuY3NzKFwiYm90dG9tXCIpLDEwKSxqPWkraytoLG49TWF0aC5yb3VuZChqL2IqaSksbjx0aGlzLm9wdGlvbnMuc2xpZGVyTWluSGVpZ2h0P249dGhpcy5vcHRpb25zLnNsaWRlck1pbkhlaWdodDpudWxsIT10aGlzLm9wdGlvbnMuc2xpZGVyTWF4SGVpZ2h0JiZuPnRoaXMub3B0aW9ucy5zbGlkZXJNYXhIZWlnaHQmJihuPXRoaXMub3B0aW9ucy5zbGlkZXJNYXhIZWlnaHQpLGc9PT10JiZmLm92ZXJmbG93WCE9PXQmJihuKz1lKSx0aGlzLm1heFNsaWRlclRvcD1qLW4sdGhpcy5jb250ZW50SGVpZ2h0PWIsdGhpcy5wYW5lSGVpZ2h0PWksdGhpcy5wYW5lT3V0ZXJIZWlnaHQ9aix0aGlzLnNsaWRlckhlaWdodD1uLHRoaXMucGFuZVRvcD1rLHRoaXMuc2xpZGVyLmhlaWdodChuKSx0aGlzLmV2ZW50cy5zY3JvbGwoKSx0aGlzLnBhbmUuc2hvdygpLHRoaXMuaXNBY3RpdmU9ITAsYS5zY3JvbGxIZWlnaHQ9PT1hLmNsaWVudEhlaWdodHx8dGhpcy5wYW5lLm91dGVySGVpZ2h0KCEwKT49YS5zY3JvbGxIZWlnaHQmJmchPT10Pyh0aGlzLnBhbmUuaGlkZSgpLHRoaXMuaXNBY3RpdmU9ITEpOnRoaXMuZWwuY2xpZW50SGVpZ2h0PT09YS5zY3JvbGxIZWlnaHQmJmc9PT10P3RoaXMuc2xpZGVyLmhpZGUoKTp0aGlzLnNsaWRlci5zaG93KCksdGhpcy5wYW5lLmNzcyh7b3BhY2l0eTp0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZT8xOlwiXCIsdmlzaWJpbGl0eTp0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZT9cInZpc2libGVcIjpcIlwifSksYz10aGlzLiRjb250ZW50LmNzcyhcInBvc2l0aW9uXCIpLChcInN0YXRpY1wiPT09Y3x8XCJyZWxhdGl2ZVwiPT09YykmJihtPXBhcnNlSW50KHRoaXMuJGNvbnRlbnQuY3NzKFwicmlnaHRcIiksMTApLG0mJnRoaXMuJGNvbnRlbnQuY3NzKHtyaWdodDpcIlwiLG1hcmdpblJpZ2h0Om19KSksdGhpcyl9LGoucHJvdG90eXBlLnNjcm9sbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQWN0aXZlPyh0aGlzLnNsaWRlclk9TWF0aC5tYXgoMCx0aGlzLnNsaWRlclkpLHRoaXMuc2xpZGVyWT1NYXRoLm1pbih0aGlzLm1heFNsaWRlclRvcCx0aGlzLnNsaWRlclkpLHRoaXMuJGNvbnRlbnQuc2Nyb2xsVG9wKHRoaXMubWF4U2Nyb2xsVG9wKnRoaXMuc2xpZGVyWS90aGlzLm1heFNsaWRlclRvcCksdGhpcy5pT1NOYXRpdmVTY3JvbGxpbmd8fCh0aGlzLnVwZGF0ZVNjcm9sbFZhbHVlcygpLHRoaXMuc2V0T25TY3JvbGxTdHlsZXMoKSksdGhpcyk6dm9pZCAwfSxqLnByb3RvdHlwZS5zY3JvbGxCb3R0b209ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNBY3RpdmU/KHRoaXMuJGNvbnRlbnQuc2Nyb2xsVG9wKHRoaXMuY29udGVudEhlaWdodC10aGlzLiRjb250ZW50LmhlaWdodCgpLWEpLnRyaWdnZXIocCksdGhpcy5zdG9wKCkucmVzdG9yZSgpLHRoaXMpOnZvaWQgMH0sai5wcm90b3R5cGUuc2Nyb2xsVG9wPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQWN0aXZlPyh0aGlzLiRjb250ZW50LnNjcm9sbFRvcCgrYSkudHJpZ2dlcihwKSx0aGlzLnN0b3AoKS5yZXN0b3JlKCksdGhpcyk6dm9pZCAwfSxqLnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0FjdGl2ZT8odGhpcy5zY3JvbGxUb3AodGhpcy4kZWwuZmluZChhKS5nZXQoMCkub2Zmc2V0VG9wKSx0aGlzKTp2b2lkIDB9LGoucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4geSYmdGhpcy5zY3JvbGxSQUYmJih5KHRoaXMuc2Nyb2xsUkFGKSx0aGlzLnNjcm9sbFJBRj1udWxsKSx0aGlzLnN0b3BwZWQ9ITAsdGhpcy5yZW1vdmVFdmVudHMoKSx0aGlzLmlPU05hdGl2ZVNjcm9sbGluZ3x8dGhpcy5wYW5lLmhpZGUoKSx0aGlzfSxqLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RvcHBlZHx8dGhpcy5zdG9wKCksIXRoaXMuaU9TTmF0aXZlU2Nyb2xsaW5nJiZ0aGlzLnBhbmUubGVuZ3RoJiZ0aGlzLnBhbmUucmVtb3ZlKCksZCYmdGhpcy4kY29udGVudC5oZWlnaHQoXCJcIiksdGhpcy4kY29udGVudC5yZW1vdmVBdHRyKFwidGFiaW5kZXhcIiksdGhpcy4kZWwuaGFzQ2xhc3ModGhpcy5vcHRpb25zLmVuYWJsZWRDbGFzcykmJih0aGlzLiRlbC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZW5hYmxlZENsYXNzKSx0aGlzLiRjb250ZW50LmNzcyh7cmlnaHQ6XCJcIn0pKSx0aGlzfSxqLnByb3RvdHlwZS5mbGFzaD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlPU05hdGl2ZVNjcm9sbGluZyYmdGhpcy5pc0FjdGl2ZT8odGhpcy5yZXNldCgpLHRoaXMucGFuZS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZmxhc2hlZENsYXNzKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2EucGFuZS5yZW1vdmVDbGFzcyhhLm9wdGlvbnMuZmxhc2hlZENsYXNzKX19KHRoaXMpLHRoaXMub3B0aW9ucy5mbGFzaERlbGF5KSx0aGlzKTp2b2lkIDB9LGp9KCksYS5mbi5uYW5vU2Nyb2xsZXI9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjLGQ7aWYoKGQ9dGhpcy5uYW5vc2Nyb2xsZXIpfHwoYz1hLmV4dGVuZCh7fSx6LGIpLHRoaXMubmFub3Njcm9sbGVyPWQ9bmV3IHEodGhpcyxjKSksYiYmXCJvYmplY3RcIj09dHlwZW9mIGIpe2lmKGEuZXh0ZW5kKGQub3B0aW9ucyxiKSxudWxsIT1iLnNjcm9sbEJvdHRvbSlyZXR1cm4gZC5zY3JvbGxCb3R0b20oYi5zY3JvbGxCb3R0b20pO2lmKG51bGwhPWIuc2Nyb2xsVG9wKXJldHVybiBkLnNjcm9sbFRvcChiLnNjcm9sbFRvcCk7aWYoYi5zY3JvbGxUbylyZXR1cm4gZC5zY3JvbGxUbyhiLnNjcm9sbFRvKTtpZihcImJvdHRvbVwiPT09Yi5zY3JvbGwpcmV0dXJuIGQuc2Nyb2xsQm90dG9tKDApO2lmKFwidG9wXCI9PT1iLnNjcm9sbClyZXR1cm4gZC5zY3JvbGxUb3AoMCk7aWYoYi5zY3JvbGwmJmIuc2Nyb2xsIGluc3RhbmNlb2YgYSlyZXR1cm4gZC5zY3JvbGxUbyhiLnNjcm9sbCk7aWYoYi5zdG9wKXJldHVybiBkLnN0b3AoKTtpZihiLmRlc3Ryb3kpcmV0dXJuIGQuZGVzdHJveSgpO2lmKGIuZmxhc2gpcmV0dXJuIGQuZmxhc2goKX1yZXR1cm4gZC5yZXNldCgpfSl9LGEuZm4ubmFub1Njcm9sbGVyLkNvbnN0cnVjdG9yPXF9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5uYW5vc2Nyb2xsZXIubWluLmpzLm1hcCJdLCJmaWxlIjoidmVuZG9yL3Njcm9sbGJhci9uYW5vU2Nyb2xsZXIuanMifQ==
